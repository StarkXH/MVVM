<Window x:Class="MVVMLightLearning.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:MVVMLightLearning"
        mc:Ignorable="d"
        Title="MVVMLight 学习示例" Height="600" Width="600"
        WindowStartupLocation="CenterScreen"
        DataContext="{Binding Main, Source={StaticResource Locator}}">
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        
        <!-- 标题 -->
        <TextBlock Grid.Row="0"
                   Text="MVVMLight 基础学习示例"
                   Style="{StaticResource TitleTextStyle}"
                   Foreground="DarkBlue"/>
        
        <!-- 欢迎消息 -->
        <Border Grid.Row="1"
                Background="LightBlue"
                Padding="15"
                Margin="0,10"
                CornerRadius="5">
            <TextBlock Text="{Binding WelcomeMessage}"
                       FontSize="16"
                       TextWrapping="Wrap"
                       HorizontalAlignment="Center"/>
        </Border>
        
        <!-- 用户名输入 -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,10">
            <TextBlock Text="用户名:" VerticalAlignment="Center" Margin="0,0,10,0" FontSize="14"/>
            <TextBlock Text="{Binding UserName, UpdateSourceTrigger=PropertyChanged}"
                       Width="150"
                       Height="25"
                       VerticalAlignment="Center"/>
        </StackPanel>
        
        <!-- 计数器显示 -->
        <StackPanel Grid.Row="3" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,15">
            <TextBlock Text="当前计数: " VerticalAlignment="Center" FontSize="18"/>
            <TextBlock Text="{Binding Counter}"
                       Style="{StaticResource CounterTextStyle}"/>
        </StackPanel>
        
        <!-- 基本操作按钮 -->
        <StackPanel Grid.Row="4" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,20">
            <Button Content="点击计数"
                    Command="{Binding ClickCommand}"
                    Style="{StaticResource ActionButtonStyle}"
                    IsEnabled="{Binding IsButtonEnabled}"/>

            <Button Content="重置计数"
                    Command="{Binding ResetCommand}"
                    Style="{StaticResource ActionButtonStyle}"/>

            <Button Content="切换按钮状态"
                    Command="{Binding ToggleButtonCommand}"
                    Style="{StaticResource ActionButtonStyle}"/>

        </StackPanel>
        
        <!-- 带参数的命令演示 -->
        <StackPanel Grid.Row="5" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,10">
            <TextBlock Text="快速更改:" VerticalAlignment="Center" Margin="0,0,10,0"/>

            <Button Content="+1"
                    Command="{Binding AddValueCommand}"
                    CommandParameter="{Binding Content, RelativeSource={RelativeSource Self}, Converter={StaticResource StringToIntConverter}}"
                    Style="{StaticResource ActionButtonStyle}"/>

            <Button Content="+5"
                    Command="{Binding AddValueCommand}"
                    CommandParameter="{Binding Content, RelativeSource={RelativeSource Self}, Converter={StaticResource StringToIntConverter}}"
                    Style="{StaticResource ActionButtonStyle}"/>

            <Button Content="+10"
                    Command="{Binding AddValueCommand}"
                    CommandParameter="{Binding Content, RelativeSource={RelativeSource Self}, Converter={StaticResource StringToIntConverter}}"
                    Style="{StaticResource ActionButtonStyle}"/>
            
            <Button Content="-5"
                    Command="{Binding AddValueCommand}"
                    CommandParameter="{Binding Content, RelativeSource={RelativeSource Self}, Converter={StaticResource StringToIntConverter}}"
                    Style="{StaticResource ActionButtonStyle}"/>
        </StackPanel>
        
        <!-- 状态信息 -->
        <Border Grid.Row="6"
                Background="LightGray"
                Padding="10"
                Margin="0,20,0,0"
                CornerRadius="3">
            <StackPanel>
                <TextBlock Text="学习要点:" FontWeight="Bold" Margin="0,0,0,5"/>
                <TextBlock Text="• ViewModelBase 自动实现 INotifyPropertyChanged" TextWrapping="Wrap"/>
                <TextBlock Text="• RelayCommand 实现命令绑定和条件判断" TextWrapping="Wrap"/>
                <TextBlock Text="• Set() 方法简化属性更改通知" TextWrapping="Wrap"/>
                <TextBlock Text="• ViewModelLocator 管理 ViewModel 实例" TextWrapping="Wrap"/>
                <TextBlock Text="• 数据绑定实现 UI 与业务逻辑分离" TextWrapping="Wrap"/>
            </StackPanel>
        </Border>
    </Grid>
</Window>
