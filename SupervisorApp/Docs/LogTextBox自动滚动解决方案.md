# LogTextBox ???????????

## ????

??LogTextBox?????????????????????????????????????????

## ??????

1. **???????**???????TextBox???`ScrollToEnd()`????TextBox????????
2. **??ScrollToCaret??**??.NET Framework 4.8??TextBox??`ScrollToCaret()`??
3. **ScrollViewer????**?TextBox?????????????ScrollViewer???

## ????

### ??1???????????

???????????? `ScrollToEndBehavior.AutoScrollToEnd`????????????

**??**?
- ? ?????XAML?????????
- ? ??????TextBox????
- ? ??????????????????
- ? ?????????????

**????**?
```xml
<TextBox helpers:ScrollToEndBehavior.AutoScrollToEnd="True" ... />
```

### ??2???????

???MainWindow.xaml.cs???LogService?PropertyChanged???

**??**?
- ? ????
- ? ????

**??**?
- ? ????
- ? ??????

## ????

### ScrollToEndBehavior????

```csharp
public static class ScrollToEndBehavior
{
    // ????????????
    public static readonly DependencyProperty AutoScrollToEndProperty = ...;
    
    // ???????
    // 1. ????ScrollViewer??????
    // 2. ??TextBox?CaretIndex
    // 3. ??TextBox?Select??
}
```

### ????

1. **???1**?????ScrollViewer???`ScrollToEnd()`
2. **???2**???TextBox?`CaretIndex`?????
3. **???3**???`Select()`????????

## ??????

### ????
- `SupervisorApp\Helpers\ScrollToEndBehavior.cs` - ??????

### ????
- `SupervisorApp\MainWindow.xaml` - ??helpers?????AutoScrollToEnd??
- `SupervisorApp\MainWindow.xaml.cs` - ?????????????

## ????

- ? ??LogService???????LogTextBox???????
- ? ?????????????
- ? ???????????????
- ? ???????Background???????UI

## ???

??????????????TextBox????????XAML????
```xml
<TextBox helpers:ScrollToEndBehavior.AutoScrollToEnd="True" />
```

???????
- ??????
- ????
- ??????
- ???????