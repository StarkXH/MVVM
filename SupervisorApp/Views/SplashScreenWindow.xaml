<Window x:Class="SupervisorApp.Views.SplashScreenWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:sys="clr-namespace:System;assembly=mscorlib"
        mc:Ignorable="d"
        Title="SupervisorApp Startup"
        Height="800" Width="800"
        WindowStyle="None"
        ResizeMode="NoResize"
        WindowStartupLocation="CenterScreen"
        AllowsTransparency="True"
        Background="Transparent"
        ShowInTaskbar="False"
        Topmost="True"
        d:WindowStyle="SingleBorderWindow"
        d:Background="Gray">

    <Window.Resources>
        <!-- 确保资源独立，避免冲突 -->
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/ControlStyle/Themes/Buttons.xaml"/>
            </ResourceDictionary.MergedDictionaries>
            <Style x:Key="SplashButtonStyle" TargetType="Button">
                <Setter Property="Background" Value="#FF4A90E2"/>
                <Setter Property="BorderBrush" Value="#FF4A90E2"/>
                <Setter Property="BorderThickness" Value="2"/>
                <Setter Property="Foreground" Value="White"/>
                <Setter Property="FontWeight" Value="Bold"/>
                <Setter Property="FontSize" Value="14"/>
                <Setter Property="Padding" Value="10,8"/>
                <Setter Property="Margin" Value="5"/>
                <Setter Property="Cursor" Value="Hand"/>
                <Setter Property="MinWidth" Value="180"/>
                <Setter Property="MinHeight" Value="35"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="Button">
                            <Border x:Name="ButtonBorder"
                        Background="{TemplateBinding Background}"
                        BorderBrush="{TemplateBinding BorderBrush}"
                        BorderThickness="{TemplateBinding BorderThickness}"
                        CornerRadius="8"
                        SnapsToDevicePixels="True">
                                <ContentPresenter x:Name="ContentPresenter"
                                    HorizontalAlignment="Center" 
                                    VerticalAlignment="Center"
                                    Margin="{TemplateBinding Padding}"
                                    TextElement.Foreground="{TemplateBinding Foreground}"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="ButtonBorder" Property="Background" Value="#FF357ABD"/>
                                    <Setter TargetName="ButtonBorder" Property="BorderBrush" Value="#FF357ABD"/>
                                    <Setter Property="Foreground" Value="White"/>
                                </Trigger>
                                <Trigger Property="IsPressed" Value="True">
                                    <Setter TargetName="ButtonBorder" Property="Background" Value="#FF2C5F99"/>
                                    <Setter TargetName="ButtonBorder" Property="BorderBrush" Value="#FF2C5F99"/>
                                </Trigger>
                                <Trigger Property="IsEnabled" Value="False">
                                    <Setter TargetName="ButtonBorder" Property="Background" Value="#FF7F8C8D"/>
                                    <Setter TargetName="ButtonBorder" Property="BorderBrush" Value="#FF7F8C8D"/>
                                    <Setter Property="Foreground" Value="#FFBDC3C7"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
            <!-- 旋转动画 -->
            <Storyboard x:Key="RotationAnimation" RepeatBehavior="Forever">
                <DoubleAnimation Storyboard.TargetName="LoadingIcon"
                               Storyboard.TargetProperty="(UIElement.RenderTransform).(RotateTransform.Angle)"
                               From="0" To="360" Duration="0:0:2"/>
            </Storyboard>

            <!-- 淡入动画 -->
            <Storyboard x:Key="FadeInAnimation">
                <DoubleAnimation Storyboard.TargetName="MainGrid"
                               Storyboard.TargetProperty="Opacity"
                               From="0" To="1" Duration="0:0:1"/>
            </Storyboard>
        </ResourceDictionary>
    </Window.Resources>

    <Window.Triggers>
        <EventTrigger RoutedEvent="Loaded">
            <BeginStoryboard Storyboard="{StaticResource FadeInAnimation}"/>
        </EventTrigger>
    </Window.Triggers>

    <!-- 主容器 -->
    <Grid x:Name="MainGrid" Opacity="0" d:Opacity="1">
        <!-- 背景渐变 -->
        <Grid.Background>
            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                <GradientStop Color="#FF2C3E50" Offset="0"/>
                <GradientStop Color="#FF34495E" Offset="0.5"/>
                <GradientStop Color="#FF2C3E50" Offset="1"/>
            </LinearGradientBrush>
        </Grid.Background>

        <!-- 主内容区域 -->
        <Border Background="#AA000000" CornerRadius="15" Margin="50"
                BorderBrush="#FF4A90E2" BorderThickness="2">
            <Grid Margin="20">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- 应用程序标题区域 -->
                <StackPanel Grid.Row="0" HorizontalAlignment="Center" Margin="0,0,0,30">
                    <!-- 应用程序图标 -->
                    <Viewbox Width="100" Height="80" Margin="0">
                        <Image Source="/Resources/SY117x32.ico"/>
                    </Viewbox>

                    <!-- 应用程序标题 -->
                    <TextBlock Text="SupervisorApp" 
                               FontSize="32" FontWeight="Bold" 
                               Foreground="#FFECF0F1" 
                               HorizontalAlignment="Center"/>
                    
                    <!-- 副标题 -->
                    <TextBlock Text="Professional Device Register Management System" 
                               FontSize="14" 
                               Foreground="#FFBDC3C7" 
                               HorizontalAlignment="Center" 
                               Margin="0,5,0,0"/>
                </StackPanel>

                <!-- 系统信息区域 -->
                <Grid Grid.Row="1" Margin="0,0,0,20">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <!-- 左侧：系统信息 -->
                    <StackPanel Grid.Column="0" Margin="0,0,20,0">
                        <TextBlock Text="🏭 System Information" 
                                   FontSize="16" FontWeight="Bold" 
                                   Foreground="#FF4A90E2" 
                                   Margin="0,0,0,15"/>
                        
                        <StackPanel Orientation="Horizontal" Margin="0,5">
                            <TextBlock Text="🔧 Version:" Width="80" 
                                       Foreground="#FFBDC3C7" FontSize="12"/>
                            <TextBlock Text="v1.0.0" 
                                       Foreground="#FFECF0F1" FontSize="12" FontWeight="Bold"/>
                        </StackPanel>
                        
                        <StackPanel Orientation="Horizontal" Margin="0,5">
                            <TextBlock Text="🎯 Target:" Width="80" 
                                       Foreground="#FFBDC3C7" FontSize="12"/>
                            <TextBlock Text=".NET Framework 4.8" 
                                       Foreground="#FFECF0F1" FontSize="12" FontWeight="Bold"/>
                        </StackPanel>
                        
                        <StackPanel Orientation="Horizontal" Margin="0,5">
                            <TextBlock Text="🏢 Company:" Width="80" 
                                       Foreground="#FFBDC3C7" FontSize="12"/>
                            <TextBlock Text="Silergy" 
                                       Foreground="#FFECF0F1" FontSize="12" FontWeight="Bold"/>
                        </StackPanel>
                        
                        <StackPanel Orientation="Horizontal" Margin="0,5">
                            <TextBlock Text="📅 Build:" Width="80" 
                                       Foreground="#FFBDC3C7" FontSize="12"/>
                            <TextBlock Foreground="#FFECF0F1" FontSize="12" FontWeight="Bold"
                                       d:Text="2024-12-20">
                                <TextBlock.Text>
                                    <Binding Source="{x:Static sys:DateTime.Now}" StringFormat="yyyy-MM-dd"/>
                                </TextBlock.Text>
                            </TextBlock>
                        </StackPanel>
                    </StackPanel>

                    <!-- 右侧：核心功能 -->
                    <StackPanel Grid.Column="1" Margin="20,0,0,0">
                        <TextBlock Text="⚡ Key Features" 
                                   FontSize="16" FontWeight="Bold" 
                                   Foreground="#FF4A90E2" 
                                   Margin="0,0,0,15"/>
                        
                        <StackPanel Orientation="Horizontal" Margin="0,5">
                            <TextBlock Text="📋" Width="25" FontSize="14" Foreground="#FFBDC3C7"/>
                            <TextBlock Text="Register Map Visualization" 
                                       Foreground="#FFECF0F1" FontSize="12"/>
                        </StackPanel>
                        
                        <StackPanel Orientation="Horizontal" Margin="0,5">
                            <TextBlock Text="🔍" Width="25" FontSize="14" Foreground="#FFBDC3C7"/>
                            <TextBlock Text="Real-time Device Monitoring" 
                                       Foreground="#FFECF0F1" FontSize="12"/>
                        </StackPanel>
                        
                        <StackPanel Orientation="Horizontal" Margin="0,5">
                            <TextBlock Text="⚙️" Width="25" FontSize="14" Foreground="#FFBDC3C7"/>
                            <TextBlock Text="BitField Configuration" 
                                       Foreground="#FFECF0F1" FontSize="12"/>
                        </StackPanel>
                        
                        <StackPanel Orientation="Horizontal" Margin="0,5">
                            <TextBlock Text="📊" Width="25" FontSize="14" Foreground="#FFBDC3C7"/>
                            <TextBlock Text="Data Analysis and Export" 
                                       Foreground="#FFECF0F1" FontSize="12"/>
                        </StackPanel>
                        
                        <StackPanel Orientation="Horizontal" Margin="0,5">
                            <TextBlock Text="🔧" Width="25" FontSize="14" Foreground="#FFBDC3C7"/>
                            <TextBlock Text="Advanced Protocol Support" 
                                       Foreground="#FFECF0F1" FontSize="12"/>
                        </StackPanel>
                    </StackPanel>
                </Grid>

                <!-- 加载状态区域 -->
                <StackPanel Grid.Row="2" HorizontalAlignment="Center" Margin="0,10">
                    <!-- 状态指示器 -->
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,0,0,15">
                        <Ellipse x:Name="StatusIndicator" Width="12" Height="12" 
                                 Fill="#FF27AE60" Margin="0,0,10,0"/>
                        <TextBlock x:Name="StatusText" Text="Initializing System Components..." 
                                   d:Text="System ready for preview!"
                                   Foreground="#FFECF0F1" FontSize="14" VerticalAlignment="Center"/>
                    </StackPanel>

                    <!-- 加载图标 -->
                    <Viewbox Width="40" Height="40" Margin="0,0,0,15">
                        <Canvas x:Name="LoadingIcon" Width="50" Height="50"
                                RenderTransformOrigin="0.5,0.5">
                            <Canvas.RenderTransform>
                                <RotateTransform/>
                            </Canvas.RenderTransform>
                            
                            <!-- 加载环 -->
                            <Ellipse Width="40" Height="40" Canvas.Left="5" Canvas.Top="5"
                                   Stroke="#FF4A90E2" StrokeThickness="4" 
                                   StrokeDashArray="15,5" Fill="Transparent"/>
                        </Canvas>
                    </Viewbox>

                    <!-- 进度条 -->
                    <ProgressBar x:Name="LoadingProgress" 
                                 Width="300" Height="8" 
                                 Background="#FF34495E" 
                                 Foreground="#FF4A90E2"
                                 BorderThickness="0"
                                 Value="0" Maximum="100"
                                 d:Value="75"/>
                    
                    <!-- 进度百分比 -->
                    <TextBlock x:Name="ProgressText" Text="0%" 
                               d:Text="75%"
                               Foreground="#FFBDC3C7" FontSize="12" Margin="0,5"
                               HorizontalAlignment="Center"/>
                </StackPanel>

                <!-- 操作按钮区域 -->
                <StackPanel Grid.Row="3" Orientation="Horizontal" 
                            HorizontalAlignment="Center" Margin="0,10,0,0">
                    
                    <!-- 继续按钮 -->
                    <Button x:Name="ContinueButton" 
                            Content="🚀 Continue to Application" 
                            Style="{StaticResource SplashButtonStyle}"
                            Click="ContinueButton_Click"
                            IsEnabled="False"
                            d:IsEnabled="True"/>
                    
                    <!-- 设置按钮 -->
                    <Button x:Name="SettingsButton" 
                            Content="⚙️ Settings" 
                            Style="{StaticResource SplashButtonStyle}"
                            Click="SettingsButton_Click"/>
                    
                    <!-- 退出按钮 -->
                    <Button x:Name="ExitButton" 
                            Content="❌ Exit" 
                            Style="{StaticResource SplashButtonStyle}"
                            Click="ExitButton_Click"/>
                </StackPanel>

                <!-- 版权信息 -->
                <StackPanel Grid.Row="4" HorizontalAlignment="Center" Margin="0,20,0,0">
                    <TextBlock Text="(C) Silergy 2024 SupervisorApp. All rights reserved." 
                               Foreground="#FF7F8C8D" FontSize="10" 
                               HorizontalAlignment="Center"/>
                    <TextBlock Text="Powered by WPF and MVVM Architecture" 
                               Foreground="#FF7F8C8D" FontSize="10" 
                               HorizontalAlignment="Center" Margin="0,2,0,0"/>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</Window>